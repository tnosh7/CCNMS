<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="admin">
	<select id="selectOneLoginAdmin" parameterType="AdminDTO" resultType="AdminDTO">
		SELECT 
				*
		FROM
				ADMIN
		WHERE 
				ADMIN_ID = #{adminId}
	</select>
	<insert id="insertRegisterAdmin" parameterType="AdminDTO">
		INSERT INTO 
				ADMIN
		VALUES (
			#{adminId},
			#{adminNm},
			#{passwd},
			#{adminRank},
			NOW()
		)
	</insert>
	
	<select id="selectOneTodayReplyCnt" parameterType="String" resultType="int">
		SELECT 
			COUNT(REPLY_ID)
		FROM
			REPLY
		WHERE
			LEFT(ENROLL_DT, 10) = #{today}
	
	</select>
	<select id="selectOneTodayDiggingCnt" parameterType="String" resultType="int">
		SELECT 
			COUNT(DIGGING_ID)
		FROM
			DIGGING
		WHERE
			LEFT(ENROLL_DT, 10) = #{today}

	</select>
	<select id="selectOneTodayUserCnt" parameterType="String" resultType="int">
		SELECT 
			COUNT(USER_ID)
		FROM
			USER
		WHERE
			LEFT(JOIN_DT, 10) = #{today}
	
	</select>
	<select id="selectOneTodayShopCnt" parameterType="String" resultType="int">
		SELECT 
			COUNT(PRODUCT_CD)
		FROM
			SHOP
		WHERE
			LEFT(ENROLL_DT, 10) = #{today}
	
	</select>
	<select id="selectOneTodaySaleCnt" parameterType="String" resultType="int">
		SELECT 
			COUNT(ORDER_CD)
		FROM
			ORDERED
		WHERE
			LEFT(PAY_ORDER_TIME, 10) = #{today}
	</select>
	
</mapper>