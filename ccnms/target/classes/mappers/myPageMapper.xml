<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="myPage">
	<select id="selectOneUserDetail" parameterType="String" resultType="UserDTO">
		SELECT 
				*
		FROM 
				USER
		WHERE 
				USER_ID = #{userId}	
	</select>
	<select id="selectOneAuthenticationUser" parameterType="String" resultType="String">
		SELECT 
				PASSWD AS passwd
		FROM
				USER
		WHERE
				USER_ID = #{userId}
	</select>
	
	<update id="updateUser" parameterType="UserDTO">
		UPDATE USER (
			PROFILE,
			USER_ID,
			USER_NM,
			EMAIL,
			BIRTH_DT,
			HP,
			SEX,
			ZIPCODE,
			ROADADDRESS,
			JIBUNADDRES,
			NAMUJIADDRESS,
			EMAIL_YN,
			JOIN_DT
		)
		SET (
			#{profile},
			#{userId},
			#{userNm},
			#{email},
			#{birthDT},
			#{hp},
			#{sex},
			#{zipcode},
			#{roadAddress},
			#{namujiAddress},
			#{jibunAddress},
			#{emailYN},
			NOW()		
		)
		WHERE 
			USER_ID = #{userId}
	</update>
</mapper>